(()=>{"use strict";var e="",t=function(e,t){e.classList.add(t),e.disabled=!0},n=function(e,n,r){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?function(e,t){e.classList.remove(t),e.disabled=!1}(n,r):t(n,r)};const r=e+"5f8deee6e7ac55516162.jpg",o=e+"fb2aaa4392f864daccef.jpg",c=e+"8781167ed19a02bf3b4e.jpg",u=e+"752c36e2bbab0d631f14.jpg",i=e+"eb91cf405ac5b370179c.jpg",a=e+"fd0ba6cfd8cbe3dc8cf0.jpg";var p=document.querySelector(".cards"),l=document.querySelector(".popup_image-view"),s=l.querySelector(".popup__image"),d=l.querySelector(".popup__image-caption"),_=document.querySelector("#card-template").content.querySelector(".card"),f=function(e,t){var n=_.cloneNode(!0),r=n.querySelector(".card__image");return n.querySelector(".card__name").textContent=e,r.src=t,r.alt=e,n.querySelector(".card__like").addEventListener("click",(function(e){e.target.classList.toggle("card__like_active")})),n.querySelector(".card__delete").addEventListener("click",(function(e){e.target.closest(".card").remove()})),r.addEventListener("click",(function(){s.src=t,s.alt=e,d.textContent=e,B(l)})),n},v=function(e){p.prepend(e)};[{name:"Волшебник",link:r},{name:"Иллитид над картой подземелья",link:o},{name:"Страд фон Зарович",link:c},{name:"Пятиглавый дракон Тиамат",link:u},{name:"Голиаф",link:i},{name:"Изобретатель",link:a}].forEach((function(e){return v(f(e.name,e.link))}));var m,y=document.querySelector(".popup_edit-profile"),S=y.querySelector(".popup__input_data_name"),q=y.querySelector(".popup__input_data_description"),b=document.querySelector(".profile__info"),L=b.querySelector(".profile__name"),g=b.querySelector(".profile__description"),E=document.querySelector(".popup_add-card"),k=E.querySelector(".popup__input_data_name"),C=E.querySelector(".popup__input_data_link"),x=E.querySelector(".popup__submit-button"),j=function(e){var t=e.target.classList.contains("popup__figure-container");e.target.classList.contains("popup__container")||t||h(e.target)},A=function(e){if("Escape"===e.key){var t=document.querySelector(".popup_opened");h(t)}},B=function(e){e.classList.add("popup_opened"),e.addEventListener("click",j),document.addEventListener("keydown",A)},h=function(e){e.classList.remove("popup_opened"),e.removeEventListener("click",j),document.removeEventListener("keydown",A)};document.querySelector(".profile__edit-button").addEventListener("click",(function(){S.value=L.textContent,q.value=g.textContent,B(y)})),document.querySelector(".profile__add-button").addEventListener("click",(function(){return B(E)})),document.querySelectorAll(".popup__close-button").forEach((function(e){return e.addEventListener("click",(function(e){h(e.target.closest(".popup"))}))})),y.querySelector(".popup__edit-area").addEventListener("submit",(function(e){e.preventDefault(),L.textContent=S.value,g.textContent=q.value,h(e.target.closest(".popup"))})),E.querySelector(".popup__edit-area").addEventListener("submit",(function(e){e.preventDefault();var n=f(k.value,C.value);v(n),h(e.target.closest(".popup")),e.target.reset(),t(x,".popup__submit-button_inactive")})),m={formSelector:".popup__edit-area",inputSelector:".popup__input",submitButtonSelector:".popup__submit-button",inactiveButtonClass:"popup__submit-button_inactive",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_visible"},Array.from(document.querySelectorAll(m.formSelector)).forEach((function(e){e.addEventListener("submit",(function(e){return e.preventDefault()})),function(e,t){var r=Array.from(e.querySelectorAll(t.inputSelector)),o=e.querySelector(t.submitButtonSelector);n(r,o,t.inactiveButtonClass),r.forEach((function(c){return c.addEventListener("input",(function(){!function(e,t,n){t.validity.valid?function(e,t,n){var r=e.querySelector(".".concat(t.id,"-error"));t.classList.remove(n.inputErrorClass),r.classList.remove(n.errorClass),r.textContent=""}(e,t,n):function(e,t,n,r){var o=e.querySelector(".".concat(t.id,"-error"));t.classList.add(r.inputErrorClass),o.textContent=n,o.classList.add(r.errorClass)}(e,t,t.validationMessage,n)}(e,c,t),n(r,o,t.inactiveButtonClass)}))}))}(e,m)}))})();