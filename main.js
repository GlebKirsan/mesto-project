(()=>{"use strict";var e="",t=[{name:"Волшебник",link:e+"5f8deee6e7ac55516162.jpg"},{name:"Иллитид над картой подземелья",link:e+"fb2aaa4392f864daccef.jpg"},{name:"Страд фон Зарович",link:e+"8781167ed19a02bf3b4e.jpg"},{name:"Пятиглавый дракон Тиамат",link:e+"752c36e2bbab0d631f14.jpg"},{name:"Голиаф",link:e+"eb91cf405ac5b370179c.jpg"},{name:"Изобретатель",link:e+"fd0ba6cfd8cbe3dc8cf0.jpg"}],n=document.querySelector(".cards"),r=document.querySelector("#card-template").content.querySelector(".card"),o=document.querySelector(".profile__edit-button"),c=document.querySelector(".popup_edit-profile"),u=c.querySelector(".popup__input_data_name"),a=c.querySelector(".popup__input_data_description"),i=document.querySelector(".profile__info"),p=i.querySelector(".profile__name"),l=i.querySelector(".profile__description"),d=document.querySelector(".profile__add-button"),_=document.querySelector(".popup_add-card"),s=_.querySelector(".popup__input_data_name"),f=_.querySelector(".popup__input_data_link"),v=document.querySelector(".popup_image-view"),m=function(e){e.classList.add("popup_opened")},y=function(e){e.classList.remove("popup_opened")},q=function(e,t){var n=r.cloneNode(!0),o=n.querySelector(".card__image");return n.querySelector(".card__name").textContent=e,o.src=t,o.alt=e,n.querySelector(".card__like").addEventListener("click",(function(e){e.target.classList.toggle("card__like_active")})),n.querySelector(".card__delete").addEventListener("click",(function(e){e.target.closest(".card").remove()})),o.addEventListener("click",(function(){v.querySelector(".popup__image").src=t,v.querySelector(".popup__image").alt=e,v.querySelector(".popup__image-caption").textContent=e,m(v)})),n},S=function(e){n.prepend(e)};o.addEventListener("click",(function(){u.value=p.textContent,a.value=l.textContent,m(c)})),d.addEventListener("click",(function(){return m(_)})),document.querySelectorAll(".popup__close-button").forEach((function(e){return e.addEventListener("click",(function(e){y(e.target.closest(".popup"))}))})),c.querySelector(".popup__edit-area").addEventListener("submit",(function(e){e.preventDefault(),p.textContent=u.value,l.textContent=a.value,y(e.target.closest(".popup"))})),_.querySelector(".popup__edit-area").addEventListener("submit",(function(e){e.preventDefault();var t=q(s.value,f.value);S(t),y(e.target.closest(".popup")),s.value="",f.value=""})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&y(document.querySelector(".popup_opened"))})),document.querySelectorAll(".popup").forEach((function(e){return e.addEventListener("click",(function(e){var t=e.target.classList.contains("popup__figure-container");e.target.classList.contains("popup__container")||t||y(e.target)}))})),t.forEach((function(e){return S(q(e.name,e.link))}));var b=function(e,t){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.classList.remove("popup__submit-button_inactive"),t.setAttribute("disabled",!0)):(t.classList.add("popup__submit-button_inactive"),t.setAttribute("disabled",!1))};Array.from(document.querySelectorAll(".popup__edit-area")).forEach((function(e){e.addEventListener("submit",(function(e){return e.preventDefault()})),function(e){var t=Array.from(e.querySelectorAll(".popup__input")),n=e.querySelector(".popup__submit-button");b(t,n),t.forEach((function(r){return r.addEventListener("input",(function(){!function(e,t){t.validity.valid?function(e,t){var n=e.querySelector(".".concat(t.id,"-error"));e.classList.remove("popup__input_type_error"),n.classList.remove("popup__input-error_active"),n.textContent=""}(e,t):function(e,t,n){var r=e.querySelector(".".concat(t.id,"-error"));e.classList.add("popup__input_type_error"),r.textContent=n,r.classList.add("popup__input-error_active")}(e,t,t.validationMessage)}(e,r),b(t,n)}))}))}(e)}))})();