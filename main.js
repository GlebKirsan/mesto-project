(()=>{"use strict";var e="",t=function(e,t,n){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?function(e,t){e.classList.remove(t),e.disabled=!1}(t,n):function(e,t){e.classList.add(t),e.disabled=!0}(t,n)};const n=e+"5f8deee6e7ac55516162.jpg",r=e+"fb2aaa4392f864daccef.jpg",o=e+"8781167ed19a02bf3b4e.jpg",c=e+"752c36e2bbab0d631f14.jpg",u=e+"eb91cf405ac5b370179c.jpg",a=e+"fd0ba6cfd8cbe3dc8cf0.jpg";var i=document.querySelector(".cards"),p=document.querySelector(".popup_image-view"),l=document.querySelector("#card-template").content.querySelector(".card"),s=function(e,t){var n=l.cloneNode(!0),r=n.querySelector(".card__image");return n.querySelector(".card__name").textContent=e,r.src=t,r.alt=e,n.querySelector(".card__like").addEventListener("click",(function(e){e.target.classList.toggle("card__like_active")})),n.querySelector(".card__delete").addEventListener("click",(function(e){e.target.closest(".card").remove()})),r.addEventListener("click",(function(){p.querySelector(".popup__image").src=t,p.querySelector(".popup__image").alt=e,p.querySelector(".popup__image-caption").textContent=e,k(p)})),n},d=function(e){i.prepend(e)};[{name:"Волшебник",link:n},{name:"Иллитид над картой подземелья",link:r},{name:"Страд фон Зарович",link:o},{name:"Пятиглавый дракон Тиамат",link:c},{name:"Голиаф",link:u},{name:"Изобретатель",link:a}].forEach((function(e){return d(s(e.name,e.link))}));var _,f=document.querySelector(".popup_edit-profile"),v=f.querySelector(".popup__input_data_name"),m=f.querySelector(".popup__input_data_description"),y=document.querySelector(".profile__info"),S=y.querySelector(".profile__name"),q=y.querySelector(".profile__description"),b=document.querySelector(".popup_add-card"),L=b.querySelector(".popup__input_data_name"),g=b.querySelector(".popup__input_data_link"),E=function(e){var t=e.target.classList.contains("popup__figure-container");e.target.classList.contains("popup__container")||t||C(e.target)},k=function(e){e.classList.add("popup_opened"),e.addEventListener("click",E)},C=function(e){e.classList.remove("popup_opened"),e.removeEventListener(E)};document.querySelector(".profile__edit-button").addEventListener("click",(function(){v.value=S.textContent,m.value=q.textContent,k(f)})),document.querySelector(".profile__add-button").addEventListener("click",(function(){return k(b)})),document.querySelectorAll(".popup__close-button").forEach((function(e){return e.addEventListener("click",(function(e){C(e.target.closest(".popup"))}))})),f.querySelector(".popup__edit-area").addEventListener("submit",(function(e){e.preventDefault(),S.textContent=v.value,q.textContent=m.value,C(e.target.closest(".popup"))})),b.querySelector(".popup__edit-area").addEventListener("submit",(function(e){e.preventDefault();var t=s(L.value,g.value);d(t),C(e.target.closest(".popup")),L.value="",g.value=""})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&C(document.querySelector(".popup_opened"))})),_={formSelector:".popup__edit-area",inputSelector:".popup__input",submitButtonSelector:".popup__submit-button",inactiveButtonClass:"popup__submit-button_inactive",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_visible"},Array.from(document.querySelectorAll(_.formSelector)).forEach((function(e){e.addEventListener("submit",(function(e){return e.preventDefault()})),function(e,n){var r=Array.from(e.querySelectorAll(n.inputSelector)),o=e.querySelector(n.submitButtonSelector);t(r,o,n.inactiveButtonClass),r.forEach((function(c){return c.addEventListener("input",(function(){!function(e,t,n){t.validity.valid?function(e,t,n){var r=e.querySelector(".".concat(t.id,"-error"));t.classList.remove(n.inputErrorClass),r.classList.remove(n.errorClass),r.textContent=""}(e,t,n):function(e,t,n,r){var o=e.querySelector(".".concat(t.id,"-error"));t.classList.add(r.inputErrorClass),o.textContent=n,o.classList.add(r.errorClass)}(e,t,t.validationMessage,n)}(e,c,n),t(r,o,n.inactiveButtonClass)}))}))}(e,_)}))})();